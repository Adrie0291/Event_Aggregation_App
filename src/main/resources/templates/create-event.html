<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create user</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/webjars/bootstrap/5.2.3/css/bootstrap.min.css">

</head>
<body>
<div class="container">
    <form th:object="${event}" th:action="@{/create/event}" method="post" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="Title" class="form-label">Title:</label>
            <input id="Title" class="form-control" type="text" th:field="*{title}"/>
            <div
                    th:if="${#fields.hasErrors('title')}"
                    th:text="${#fields.errors('title')}"
                    class="invalid-feedback-custom">
            </div>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Description:</label>
            <input id="description" class="form-control" type="text" th:field="*{description}"/>
            <div
                    th:if="${#fields.hasErrors('description')}"
                    th:text="${#fields.errors('description')}"
                    class="invalid-feedback-custom">
            </div>
        </div>
        <div class="mb-3">
            <label for="startDateEvent" class="form-label">Start Date Event:</label>
            <input id="startDateEvent" type="datetime-local" class="form-control" th:field="*{startEventDate}"
                   required/>
        </div>

        <div class="mb-3">
            <label for="endDateEvent" class="form-label">End Date Event:</label>
            <input id="endDateEvent" type="datetime-local" class="form-control" th:field="*{endEventDate}" required/>
        </div>
        <div>
            <input type="submit" class="btn btn-primary" value="Send">
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 offset-md-3 mt-4 ">

                            <div class="mb-3">
                                <input type="file" name="img" class="form-control">
                            </div>

                            <div class="text-center">
                                <button class="btn btn-primary">Upload  </button>
                            </div>

                </div>

            </div>


        </div>
        <!--<div>
            <input type="file" id="file">
            <img src="https://i.imgur.com/njjoRY2.jpeg" id="img" height="200 px">
            <p id="url"></p>

            &lt;!&ndash;<script>
                const file = document.getElementById("file")
                const img = document.getElementById("img")
                const url = document.getElementById("url")
                file.addEventListener("change", ev => {
                    const formdata = new FormData()
                    formdata.append("image", ev.target.files[0])
                    fetch("https://api.imgur.com/3/upload", {
                        method: "post",
                        headers: {
                            Authorization: "Client-ID 6454567fd544a3b"
                        },
                        body: formdata
                    }).then(data => data.json()).then(data => {
                        img.src = data.data.link
                        url.innerText = data.data.link
                    })
                })
            </script>&ndash;&gt;

            &lt;!&ndash;<script>
                     const file=document.getElementById("file")
                     const img=document.getElementById("img")
                     const url=document.getElementById("url")
                     file.addEventListener("change",ev=>{
                         const formdata = new FormData()
                         formdata.append("image",ev.target.files[0])
                         fetch("https://api.imgur.com/3/image/",{
                             method:"post",
                             headers:{
                                 Authorization:"Client-ID 6454567fd544a3b"
                             }
                             ,body:formdata
                         }).then(data=>data.json()).then(data => {
                             img.src=data.data.link
                             url.innerText=data.data.link
                         })
                     })
                 </script>&ndash;&gt;
        </div>-->
    </form>
</div>
</body>
</html>